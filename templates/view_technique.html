{% extends "layout.html" %}

{% block content %}
<script type="text/javascript" src="{{ url_for('static', filename='view.js') }}"></script>
<script>
    let lessons = {{ lesson |tojson }};
</script>

<div class="container">
    <div class="row">
        <div class="col-md-12 d-flex justify-content-center" >
            <h1 id="lessonTitle">{{ lesson.title }}</h1>
        </div>
    </div>
    
    <!-- Single Display Area -->
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6">
        <div id="dynamic-display" class="info-display mb-4">
            <h3 id="display-title">Click an icon below</h3>
            <p><strong id="content-type"></strong> <span id="display-content"></span></p>
        </div>
        </div>
        <div class="col-md-3"></div>
    </div>
    
    <div class="row">
        <!-- Brain Icon -->
        <div class="col-3 col-md-3 text-center">
            <div class="icon-container">
                <img src="https://emojigraph.org/media/joypixels/brain_1f9e0.png" 
                     alt="Brain icon" 
                     class="clickable-icon img-fluid"
                     data-content="{{ lesson.core_idea }}"
                     data-content-type="Core Idea">
                <p class="mt-2">Core Idea</p>
            </div>
        </div>
        
        <!-- Camera Icon -->
        <div class="col-3 col-md-3 text-center">
            <div class="icon-container">
                <img src="https://emojigraph.org/media/apple/video-camera_1f4f9.png" 
                     alt="Camcorder icon" 
                     class="clickable-icon img-fluid"
                     data-content="{{ lesson.example }}"
                     data-content-type="Example">
                <p class="mt-2">Example</p>
            </div>
        </div>

        <!-- Caution Icon -->
        <div class="col-3 col-md-3 text-center">
            <div class="icon-container">
                <img src="https://emojigraph.org/media/facebook/warning_26a0-fe0f.png" 
                     alt="Warning symbol: yellow triangle with black exclamation point" 
                     class="clickable-icon img-fluid"
                     data-content="{{ lesson.why_effective }}"
                     data-content-type="Why It's Effective">
                <p class="mt-2">Why It's Effective</p>
            </div>
        </div>
        
        <!-- Magnifying Glass Icon -->
        <div class="col-3 col-md-3 text-center">
            <div class="icon-container">
                <img src="https://emojigraph.org/media/apple/magnifying-glass-tilted-left_1f50d.png" 
                     alt="Magnifying Glass icon" 
                     class="clickable-icon img-fluid"
                     data-content="{{ lesson.how_spot }}"
                     data-content-type="How to Spot It">
                <p class="mt-2">How to Spot It</p>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
        {% if lesson.prev != 'lessons_home' %}
        <a href="{{ url_for('view_item', item_id=lesson.prev) }}" 
           class="btn btn-outline-primary">
            Previous
        </a>
        {% else %}
        <a href="/" 
           class="btn btn-outline-primary">
            Previous
        </a>
        {% endif %}

        {% if lesson.next != 'quiz_home' %}
        <a href="{{ url_for('view_item', item_id=lesson.next) }}" 
           class="btn btn-outline-primary ms-auto">
           Next
        </a>
        {% else %}
        <a href="/quiz_home" 
           class="btn btn-outline-primary">
            Next
        </a>
        {% endif %}
    </div>
</div>
{% endblock %}





